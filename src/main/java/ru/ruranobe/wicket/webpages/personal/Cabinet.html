<!DOCTYPE html>
<html xmlns:wicket="http://wicket.apache.org" lang="en">
<head>
    <wicket:head>
        <link rel="stylesheet" href="css/styles.cabinet.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/4.4.0/bootbox.min.js"></script>
    </wicket:head>
</head>
<body>
<wicket:extend>
    <div class="h3" style="margin-top: 15px !important;">Личный кабинет</div>
    <div class="cabinetpanel clearfix">
        <div class="leftcabinet">
            <div class="avatarcabinet">
                <div class="placeholderavatar">
                    <p wicket:id="avatarNoImageText">Нет аватара</p>
                    <a href="#">Загрузить</a>
                </div>
                <img wicket:id="avatarImage"/>
            </div>
            <button type="button" class="btn btn-primary">ЛС (0)</button>
        </div>
        <div class="infocabinet">
            <button type="button" class="btn btn-default btn-sm settings" data-toggle="modal" data-target="#settingsModal"><i class="fa fa-cog"></i> Настройки</button>
            <p>
                <b>Логин:</b> <div wicket:id="username"/>
            </p>
            <wicket:enclosure>
                <p>
                    <b>Настоящее имя:</b> <div wicket:id="realname"/>
                </p>
            </wicket:enclosure>
            <wicket:enclosure>
                <p style="margin: 0 0 25px;">
                    <b>E-mail:</b> <div wicket:id="email"/>
                </p>
            </wicket:enclosure>
            <p style="margin: 0 0 25px;">
                <b>Комментариев:</b> 0 [<a href="">Последние комментарии</a>]
            </p>
            <p>
                <b>Дата регистрации:</b> <div wicket:id="registrationDate"/>
            </p>
        </div>
    </div>
    <wicket:enclosure child='userBookmarksRepeater'>
        <h4 style="margin-top: 40px !important;">Закладки</h4>
        <ul class="userbookmarks">
            <wicket:container wicket:id="userBookmarksRepeater">
                <form wicket:id="bookmarkForm">
                    <li>
                        <i class="fa fa-lg fa-bookmark"></i>
                        <div class="userbookmark">
                            <p><a wicket:id="projectUrl"><span wicket:id="projectUrlText"/></a> - <a wicket:id="volumeUrl"><span wicket:id="volumeUrlText"/></a> - <a wicket:id="chapterUrl"><span wicket:id="chapterUrlText"/></a>
                            </p>
                            <div wicket:id="bookmarkText" class="bookmarktext">
                                Диаметр самого нижнего уровня составлял километров десять – там мог бы поместиться весь Сэтагая-ку[1]; группе привередливых ремесленников понадобился месяц, чтобы облазить его весь. А дальше возвышалась еще сотня уровней, один над другим; размер сооружения был просто невероятен...
                            </div>
                            <div class="bookmarkbuttons">
                                <a wicket:id="bookmarkUrl"><button type="button" class="btn btn-default btn-sm"><i class="fa fa-reply fa-flip-horizontal"></i> Перейти</button></a>
                                <button wicket:id="deleteBookmark" type="submit" class="btn btn-default btn-sm"><i class="fa fa-trash-o"></i> Удалить</button>
                            </div>
                        </div>
                    </li>
                </form>
            </wicket:container>
        </ul>
    </wicket:enclosure>

    <!-- MODALS -->
    <div class="modal fade" id="settingsPassModal" tabindex="-1" role="dialog" aria-labelledby="settingsPassLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidtimes;></span></button>
                    <h4 class="modal-title" id="settingsPassLabel">Сменить пароль</h4>
                </div>
                <form wicket:id="changePassword" class="form-inline" align="center">
                    <div class="modal-body">
                        <div class="form-group">
                            Для смены пароля на ваш электронный адрес будет отослано письмо.<br> Следуйте инструкциям из письма.
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Отменить</button>
                        <button type="submit" class="btn btn-primary">Отправить письмо</button>
                    </div>
                </form>
                <div wicket:id="feedback"></div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="settingsEmailModal" tabindex="-1" role="dialog" aria-labelledby="settingsEmailLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidtimes;></span></button>
                    <h4 class="modal-title" id="settingsEmailLabel">Сменить Email</h4>
                </div>
                <form wicket:id="emailForm" class="form-inline" align="center">
                    <div class="modal-body">
                        <div class="form-group">
                            <label wicket:for="currentPassword">Введите текущий пароль&nbsp;&nbsp;</label>
                            <input wicket:id="currentPassword" type="password" class="form-control" name="passNow">
                        </div>
                        <div class="form-group">
                            <label wicket:for="newEmail">Введите новый Email&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                            <input wicket:id="newEmail" type="text" class="form-control" name="passNew">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Отменить</button>
                        <button wicket:id="updateEmail" type="submit" class="btn btn-primary">Сохранить</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <form wicket:id="userSettings">
        <div class="modal fade" id="settingsModal" tabindex="-1" role="dialog" aria-labelledby="settingsLabel">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidtimes;></span></button>
                        <h4 class="modal-title" id="settingsLabel">Настройки сайта</h4>
                    </div>
                    <div class="modal-body">
                        <form id="settingsForm" class="form-inline">
                            <div class="form-group">
                                <label wicket:for="converterType">Предпочитаемый формат скачивания</label>
                                <select wicket:id="converterType" class="form-control" name="downloadType"/>
                            </div>
                            <div class="form-group">
                                <label wicket:for="navigationType">Преимущественно навигация по</label>
                                <select wicket:id="navigationType" class="form-control" name="downloadType"/>
                            </div>
                            <hr/>
                            <div class="form-group">
                                <input wicket:id="convertWithImgs" type="checkbox" checked name="downloadImage">
                                <label wicket:for="convertWithImgs">Скачивать с иллюстрациями</label>
                            </div>
                            <br/>
                            <div class="form-group">
                                <input wicket:id="adult" type="checkbox" name="adult18">
                                <label wicket:for="adult">Отображать материалы для взрослых (18)</label>
                            </div>
                            <br/>
                            <div class="form-group">
                                <input wicket:id="preferColoredImgs" type="checkbox" checked name="blackImage">
                                <label wicket:for="preferColoredImgs">Отображать цветные иллюстрации вместо черно-белых при наличии</label>
                            </div>
                            <hr/>
                            <div class="form-group">
                                <label wicket:for="convertImgsSize">Размер иллюстраций в конвертере</label>
                                <input wicket:id="convertImgsSize" type="text" class="form-control" name="irastSize" size="4"> px
                            </div>
                        </form>
                        <hr/>
                        <div style="text-align: center;">
                            <button type="button" class="btn btn-default btn-sm settingsPass" data-toggle="modal" data-target="#settingsPassModal"><i class="fa fa-cog"></i> Сменить пароль</button>
                            <button type="button" class="btn btn-default btn-sm settingsEmail" data-toggle="modal" data-target="#settingsEmailModal"><i class="fa fa-cog"></i> Сменить Email</button>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Отменить</button>
                        <button wicket:id="saveUserSettings" type="submit" class="btn btn-primary">Сохранить</button>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <!-- MODALS -->
    <script src="js/page.cabinet.js"></script>
</wicket:extend>
</body>
</html>